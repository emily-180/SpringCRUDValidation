<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <div th:replace="cabecalho :: head"></div>
    <title>Crud Manager - Formulário de Matrícula</title>
</head>

<body>
    <div class="container my-2">
        <h2>Matrícula</h2>
        
        <form th:action="@{/enrollment/register}" method="POST" th:object="${enrollment}">
            <input type="hidden" id="id" th:field="*{id}">
            
            <div class="form-group">
                <label for="user">Usuário</label>
                <select id="user" class="form-control" th:field="*{user.id}">
                    <option value="" disabled>Selecione um usuário</option>
                    <option th:each="user : ${users}" th:value="${user.id}" th:text="${user.name}"></option>
                </select>
                <span class="text-danger" th:if="${#fields.hasErrors('user')}" th:errors="*{user}"></span>
            </div>
            
            <div class="form-group">
                <label for="class">Curso</label>
                <select id="class" class="form-control" th:field="*{clazz.id}">
                    <option value="" disabled>Selecione um curso</option>
                    <option th:each="clazz : ${classes}" th:value="${clazz.id}" th:text="${clazz.name}"></option>
                </select>
                <span class="text-danger" th:if="${#fields.hasErrors('clazz')}" th:errors="*{clazz}"></span>
            </div>
        
    
            <div class="form-group">
                <label for="status">Status</label>
                <input type="text" id="status" placeholder="Status" class="form-control" th:field="*{status}">
                <span class="text-danger" th:if="${#fields.hasErrors('status')}" th:errors="*{status}"></span>
            </div>

           <div class="form-group">
			    <label for="price">Valor</label>
			    <input type="number" id="price" placeholder="Valor" class="form-control" th:field="*{price}" step="0.01">
			    <span class="text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></span>
			</div>


            <!-- Botão de Salvar -->
            <button type="submit" class="btn btn-info">Salvar</button>
        </form>

        <hr>
        
        <a th:href="@{/enrollment}">Ver Matrículas</a>
    </div>
</body>
</html>
